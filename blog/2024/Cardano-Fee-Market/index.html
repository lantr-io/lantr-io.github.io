<!DOCTYPE html> <html lang="en"> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title> Why Cardano Needs a Fee Market | Lantr </title> <meta name="author" content="Alexander Nemish"> <meta name="description" content="An analysis of Cardano's transaction ordering system and a proposal for improvement"> <meta name="keywords" content="Cardano, Bitcoin, R&amp;D, research, development, smart contracts, audit, DApps, blockchain, Scala, Haskell, Rust, consultant, consultancy, contractor, security auditing "> <link rel="stylesheet" href="/assets/css/bootstrap.min.css?a4b3f509e79c54a512b890d73235ef04"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous"> <link defer rel="stylesheet" href="/assets/css/academicons.min.css?f0b7046b84e425c55f3463ac249818f5"> <link defer rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons&amp;display=swap"> <link defer rel="stylesheet" href="/assets/css/jekyll-pygments-themes-github.css?591dab5a4e56573bf4ef7fd332894c99" media="" id="highlight_theme_light"> <link rel="shortcut icon" href="/assets/img/cardano-ada-logo.png?540aa59d91a4787dfd0e4d6fd6611948"> <link rel="stylesheet" href="/assets/css/main.css?d41d8cd98f00b204e9800998ecf8427e"> <link rel="canonical" href="https://lantr.io/blog/2024/Cardano-Fee-Market/"> <script src="/assets/js/theme.js?9a0c749ec5240d9cda97bc72359a72c0"></script> <link defer rel="stylesheet" href="/assets/css/jekyll-pygments-themes-native.css?5847e5ed4a4568527aa6cfab446049ca" media="none" id="highlight_theme_dark"> <script>initTheme();</script> </head> <body class="fixed-top-nav sticky-bottom-footer"> <header> <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top" role="navigation"> <div class="container"> <a class="navbar-brand title font-weight-lighter" href="/">Lantr</a> <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar top-bar"></span> <span class="icon-bar middle-bar"></span> <span class="icon-bar bottom-bar"></span> </button> <div class="collapse navbar-collapse text-right" id="navbarNav"> <ul class="navbar-nav ml-auto flex-nowrap"> <li class="nav-item "> <a class="nav-link" href="/">About Us </a> </li> <li class="nav-item active"> <a class="nav-link" href="/blog/">Blog </a> </li> <li class="nav-item "> <a class="nav-link" href="/projects/">Projects </a> </li> <li class="nav-item "> <a class="nav-link" href="/team/">Team </a> </li> <li class="toggle-container"> <button id="light-toggle" title="Change theme"> <i class="ti ti-sun-moon" id="light-toggle-system"></i> <i class="ti ti-moon-filled" id="light-toggle-dark"></i> <i class="ti ti-sun-filled" id="light-toggle-light"></i> </button> </li> </ul> </div> </div> </nav> </header> <div class="container mt-5" role="main"> <div class="post"> <header class="post-header"> <h1 class="post-title">Why Cardano Needs a Fee Market</h1> <p class="post-meta"> Created in November 06, 2024 by Alexander Nemish </p> <p class="post-tags"> <a href="/blog/2024"> <i class="fa-solid fa-calendar fa-sm"></i> 2024 </a>   ·   <a href="/blog/tag/cardano"> <i class="fa-solid fa-hashtag fa-sm"></i> cardano</a>   <a href="/blog/tag/blockchain"> <i class="fa-solid fa-hashtag fa-sm"></i> blockchain</a>   ·   <a href="/blog/category/blockchain"> <i class="fa-solid fa-tag fa-sm"></i> blockchain</a> </p> </header> <article class="post-content"> <div id="markdown-content"> <h2 id="the-current-challenge">The Current Challenge</h2> <p>Remember the <a href="https://forum.cardano.org/t/cardano-triumphs-against-ddos-attack/134768" rel="external nofollow noopener" target="_blank">Cardano DDoS attack</a> in June 2024? While IOG released a quick fix, they didn’t address the fundamental issue.</p> <p>I’ve analyzed the potential cost of DDoS attacks on Cardano, and the numbers are concerning. Under current protocol parameters, the maximum transaction size is 16KB with a minimum fee (<code class="language-plaintext highlighter-rouge">minfee</code>) of 0.8 ADA. This means an attacker could potentially flood the network with 16KB transactions for approximately $7,000 per day, filling blocks and significantly degrading network performance.</p> <p>The core issue? Cardano lacks transaction prioritization. We need a fee market to allow higher-priority transactions to bypass network congestion through increased fees.</p> <p><img src="/assets/img/cardano-ddos-calculation.png" alt="Cardano DDoS attack cost calculation"></p> <h2 id="current-transaction-ordering-system">Current Transaction Ordering System</h2> <p>An important distinction: transaction ordering isn’t part of Cardano’s consensus protocol. This means we can implement improvements without requiring a hard fork!</p> <p>Currently, transactions wait in the mempool queue and are processed first-in-first-out (FIFO), based on when relay nodes receive them. While this approach provides basic fairness and allows for backpressure during high activity, it has two significant limitations:</p> <ol> <li>No transaction prioritization</li> <li>Suboptimal script execution budgeting</li> </ol> <h3 id="the-script-execution-problem">The Script Execution Problem</h3> <p>Consider this scenario with four transactions in the queue:</p> <ol> <li>Transaction A: 70% block execution budget, 20% block size</li> <li>Transaction B: 50% block execution budget, 20% block size</li> <li>Transaction C: 30% block execution budget, 20% block size</li> <li>Transaction D: 50% block execution budget, 20% block size</li> </ol> <p>The current system would only include Transaction A in the block, as Transaction B would exceed the remaining execution budget. This creates suboptimal blocks - we recently saw this issue during a token launch.</p> <p>A more efficient approach would be to include Transactions A and C in one block, followed by B and D in the next block.</p> <h2 id="the-three-dimensional-challenge">The Three-Dimensional Challenge</h2> <p>Optimizing block creation requires balancing three key constraints:</p> <ul> <li>Block size</li> <li>CPU budget</li> <li>Memory budget</li> </ul> <p>We need a solution that optimizes block filling while:</p> <ul> <li>Maximizing fee collection</li> <li>Respecting transaction dependencies</li> <li>Maintaining fairness</li> </ul> <h2 id="our-proposal-a-flexible-fee-market">Our Proposal: A Flexible Fee Market</h2> <p>We’re proposing an alternative transaction ordering system for the Cardano node mempool, based on both transaction fees and execution budgets.</p> <h3 id="key-features">Key Features</h3> <ol> <li> <strong>Flexible Configuration</strong>: Stake Pool Operators (SPOs) can choose between: <ul> <li>Current FIFO system</li> <li>New Generous-In-First-Out (GIFO) ranking system</li> </ul> </li> <li> <strong>Enhanced Mempool Management</strong>: <ul> <li>Holds N transactions before implementing backpressure</li> <li>Orders a portion of transactions by fees</li> <li>Uses execution budget as a tiebreaker for equal fees</li> </ul> </li> <li> <strong>Configurable Fairness Parameter</strong>: <ul> <li>100% = Pure FIFO (current system)</li> <li>0% = Full fee-based ordering</li> <li>SPOs can optimize based on their preferences</li> </ul> </li> </ol> <h3 id="expected-benefits">Expected Benefits</h3> <ul> <li>Higher throughput for priority transactions</li> <li>Natural deprioritization of resource-heavy transactions</li> <li>More efficient block utilization</li> <li>Increased rewards for all ecosystem participants</li> </ul> <p>It’s important to note that on Cardano, transaction fees go into the Rewards pot, which is then distributed between the Treasury, Stake Pool Operators (SPOs), and stakers as rewards. This means that higher fees from priority transactions don’t just help with network efficiency – they directly benefit everyone in the Cardano ecosystem by increasing rewards distribution.</p> <p><img src="/assets/img/value-preservation.png" alt="Preservation of Value" width="750"></p> <h2 id="support-the-initiative">Support the Initiative</h2> <h3 id="vote-for-our-proposal">Vote for Our Proposal</h3> <p>Support our <a href="https://cardano.ideascale.com/c/cardano/idea/131153" rel="external nofollow noopener" target="_blank">Cardano Fee Market</a> proposal in Catalyst.</p> <p>Look for “LANTR” when voting on Catalyst proposals.</p> <h3 id="delegate-your-voting-power">Delegate Your Voting Power</h3> <p>Help advance Cardano’s development by delegating your voting power:</p> <p>CIP-105 DRep ID: <code class="language-plaintext highlighter-rouge">drep1k4h4cd5jknvcfeq5uuzqthpl7sdjxrwf9gn25tdk49qxyfhusgm</code></p> <p><a href="https://learncardano.io/how-to-delegate-drep-eternl-wallet-mobile/" rel="external nofollow noopener" target="_blank">Learn how to delegate using Eternl Wallet</a></p> </div> </article> <br> <hr> <br> <ul class="list-disc pl-8"></ul> <h2 class="text-3xl font-semibold mb-4 mt-12">Enjoy Reading This Article?</h2> <p class="mb-2">Here are some more articles you might like to read next:</p> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2024/Cardano-Treasury/">Cardano Treasury</a> </li> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2024/Scalus/">Why Scalus, Technically?</a> </li> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2023/Blockchain-Levels/">Blockchain Levels</a> </li> </div> </div> <footer class="sticky-bottom mt-5" role="contentinfo"> <div class="container"> © Copyright 2024 Lantr.io </div> </footer> <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script> <script src="/assets/js/bootstrap.bundle.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script> <script src="/assets/js/no_defer.js?2781658a0a2b13ed609542042a859126"></script> <script defer src="/assets/js/common.js?e0514a05c5c95ac1a93a8dfd5249b92e"></script> <script defer src="/assets/js/copy_code.js?12775fdf7f95e901d7119054556e495f" type="text/javascript"></script> <script defer src="/assets/js/jupyter_new_tab.js?d9f17b6adc2311cbabd747f4538bb15f"></script> <script async src="https://d1bxh8uas1mnw7.cloudfront.net/assets/embed.js"></script> <script async src="https://badge.dimensions.ai/badge.js"></script> <script async src="https://www.googletagmanager.com/gtag/js?id=G-337WTHY5JH"></script> <script>function gtag(){window.dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-337WTHY5JH");</script> <script src="/assets/js/vanilla-back-to-top.min.js?f40d453793ff4f64e238e420181a1d17"></script> <script>addBackToTop();</script> </body> </html>