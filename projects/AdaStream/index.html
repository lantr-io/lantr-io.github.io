<!DOCTYPE html> <html lang="en"> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title> AdaStream | Lantr </title> <meta name="author" content="Alexander Nemish"> <meta name="description" content="AdaStream - Decentralized File Hosting Incentivised via Cardano Ada Payments"> <meta name="keywords" content="Cardano, Bitcoin, R&amp;D, research, development, smart contracts, audit, DApps, blockchain, Scala, Haskell, Rust, consultant, consultancy, contractor, security auditing "> <link rel="stylesheet" href="/assets/css/bootstrap.min.css?a4b3f509e79c54a512b890d73235ef04"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous"> <link defer rel="stylesheet" href="/assets/css/academicons.min.css?f0b7046b84e425c55f3463ac249818f5"> <link defer rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons&amp;display=swap"> <link defer rel="stylesheet" href="/assets/css/jekyll-pygments-themes-github.css?591dab5a4e56573bf4ef7fd332894c99" media="" id="highlight_theme_light"> <link rel="shortcut icon" href="/assets/img/cardano-ada-logo.png?540aa59d91a4787dfd0e4d6fd6611948"> <link rel="stylesheet" href="/assets/css/main.css?d41d8cd98f00b204e9800998ecf8427e"> <link rel="canonical" href="https://lantr.io/projects/AdaStream/"> <script src="/assets/js/theme.js?9a0c749ec5240d9cda97bc72359a72c0"></script> <link defer rel="stylesheet" href="/assets/css/jekyll-pygments-themes-native.css?5847e5ed4a4568527aa6cfab446049ca" media="none" id="highlight_theme_dark"> <script>initTheme();</script> </head> <body class="fixed-top-nav sticky-bottom-footer"> <header> <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top" role="navigation"> <div class="container"> <a class="navbar-brand title font-weight-lighter" href="/">Lantr</a> <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar top-bar"></span> <span class="icon-bar middle-bar"></span> <span class="icon-bar bottom-bar"></span> </button> <div class="collapse navbar-collapse text-right" id="navbarNav"> <ul class="navbar-nav ml-auto flex-nowrap"> <li class="nav-item "> <a class="nav-link" href="/">About Us </a> </li> <li class="nav-item "> <a class="nav-link" href="/blog/">Blog </a> </li> <li class="nav-item active"> <a class="nav-link" href="/projects/">Projects <span class="sr-only">(current)</span> </a> </li> <li class="nav-item "> <a class="nav-link" href="/team/">Team </a> </li> <li class="toggle-container"> <button id="light-toggle" title="Change theme"> <i class="ti ti-sun-moon" id="light-toggle-system"></i> <i class="ti ti-moon-filled" id="light-toggle-dark"></i> <i class="ti ti-sun-filled" id="light-toggle-light"></i> </button> </li> </ul> </div> </div> </nav> </header> <div class="container mt-5" role="main"> <div class="post"> <header class="post-header"> <h1 class="post-title">AdaStream - Decentralized File Hosting Incentivised via Cardano Ada Payments</h1> </header> <article> <h2 id="adastream---decentralized-file-hosting-incentivised-via-cardano-ada-payments">AdaStream - Decentralized File Hosting Incentivised via Cardano Ada Payments</h2> <h2 id="introduction">Introduction</h2> <p>This project is a Cardano implementation of the <a href="https://github.com/RobinLinus/BitStream" rel="external nofollow noopener" target="_blank">BitStream</a> protocol by Robin Linus.</p> <p>Original paper: <a href="https://robinlinus.com/bitstream.pdf" rel="external nofollow noopener" target="_blank">BitStream: Decentralized File Hosting Incentivised via Bitcoin Payments </a></p> <h2 id="tldr">TL;DR</h2> <ul> <li>Alice wants to buy a file from Bob.</li> <li>Bob encrypts the file with a random key and sends it to Alice.</li> <li>Bob creates a bond contract on Cardano with a collateral and a commitment to the key and the file.</li> <li>Alice pays Bob for the file via a HTLC (Hash Time Lock Contract), using Cardano or Bitcoin Lightning Network.</li> <li>Alice decrypts the file with the key from the HTLC or takes the money back after the timeout.</li> <li>If Bob cheats, Alice can prove it and get the collateral from the bond contract.</li> <li>Bob can withdraw the collateral by revealing the key.</li> </ul> <h2 id="abstract-from-the-original-paper">Abstract from the original paper</h2> <p>An atomic swap of coins for files would enable an open market for content hosting, in which anyone can monetize their excess bandwidth and data storage capacities, by serving decentralized multimedia services. Verifiable encryption provides a theoretical solution, but the computational overhead is too expensive in practice. We propose a solution to the fair exchange problem, which is highly efficient such that servers can handle large files and manage many clients simultanously. Compatible payment methods include Lightning, Ecash, and every other system that supports hash-timelock contracts. The server encrypts the file such that if there’s any mismatch during decryption the client can derive a compact fraud proof. A bond contract guarantees the client receives the exact file or they can punish the server. The transfer happens fully off-chain. An on-chain transaction is required only in case a server cheated.</p> <h2 id="implementation">Implementation</h2> <p>We used Scala and <a href="https://github.com/nau/scalus" rel="external nofollow noopener" target="_blank">Scalus</a> to compile a bond and HTLC contracts, encrypt and decrypt the files, and create the transactions.</p> <h2 id="on-chain-example">On-Chain example</h2> <h3 id="withdraw-transation">Withdraw Transation</h3> <p>On Cardano Preview network TxId – <a href="https://preview.cexplorer.io/tx/10fea052e27e335a5addac89adc16460970b4b46ae86b8072377b9951d675404" rel="external nofollow noopener" target="_blank">10fea052e27e335a5addac89adc16460970b4b46ae86b8072377b9951d675404</a></p> <h3 id="fraud-proof-transaction">Fraud Proof Transaction</h3> <p>On Cardano Preview network <a href="https://preview.cexplorer.io/tx/8faeadb75252c67475e1e1ddacde75d629b47938d70c082c07630955d46c8fae" rel="external nofollow noopener" target="_blank">8faeadb75252c67475e1e1ddacde75d629b47938d70c082c07630955d46c8fae</a></p> </article> </div> </div> <footer class="sticky-bottom mt-5" role="contentinfo"> <div class="container"> © Copyright 2024 Lantr.io </div> </footer> <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script> <script src="/assets/js/bootstrap.bundle.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script> <script src="/assets/js/no_defer.js?2781658a0a2b13ed609542042a859126"></script> <script defer src="/assets/js/common.js?e0514a05c5c95ac1a93a8dfd5249b92e"></script> <script defer src="/assets/js/copy_code.js?12775fdf7f95e901d7119054556e495f" type="text/javascript"></script> <script defer src="/assets/js/jupyter_new_tab.js?d9f17b6adc2311cbabd747f4538bb15f"></script> <script async src="https://d1bxh8uas1mnw7.cloudfront.net/assets/embed.js"></script> <script async src="https://badge.dimensions.ai/badge.js"></script> <script async src="https://www.googletagmanager.com/gtag/js?id=G-337WTHY5JH"></script> <script>function gtag(){window.dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-337WTHY5JH");</script> <script src="/assets/js/vanilla-back-to-top.min.js?f40d453793ff4f64e238e420181a1d17"></script> <script>addBackToTop();</script> </body> </html>